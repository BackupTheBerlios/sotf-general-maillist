<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sotf-general] Important: check your databases!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sotf-general/2005-August/index.html" >
   <LINK REL="made" HREF="mailto:sotf-general%40lists.berlios.de?Subject=Re%3A%20%5BSotf-general%5D%20Important%3A%20check%20your%20databases%21&In-Reply-To=%3C4315A007.2080804%40dsd.sztaki.hu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000001.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sotf-general] Important: check your databases!</H1>
    <B>Micsik Andr&#225;s</B> 
    <A HREF="mailto:sotf-general%40lists.berlios.de?Subject=Re%3A%20%5BSotf-general%5D%20Important%3A%20check%20your%20databases%21&In-Reply-To=%3C4315A007.2080804%40dsd.sztaki.hu%3E"
       TITLE="[Sotf-general] Important: check your databases!">micsik at dsd.sztaki.hu
       </A><BR>
    <I>Wed Aug 31 14:18:15 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000001.html">[Sotf-general] Re: Node GUI proposal
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear node admins,

there is a possibility that during a postgres update constraints get lost. 
Then there are no cascading deletes, and the database goes into an 
inconsistent state, and then syncing stops working correctly.

To avoid this, please do the following on your node:

1. Update from the unstable branch (??).

2. Run cleanup.php from a web browser.

3. Run \i node/code/share/constraints.sql from a psql prompt.

4. Check carefully if all constraints are added. If there is a message like:
    'insert or update on table &quot;...&quot; violates foreign key constraint
    &quot;...&quot;', try to delete offending rows manually, or tell me about it.
    Then repeat from step 3.

If there were no errors, you are finished.

thanks,

	Andras






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000001.html">[Sotf-general] Re: Node GUI proposal
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2">[ date ]</a>
              <a href="thread.html#2">[ thread ]</a>
              <a href="subject.html#2">[ subject ]</a>
              <a href="author.html#2">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sotf-general">More information about the Sotf-general
mailing list</a><br>
</body></html>
